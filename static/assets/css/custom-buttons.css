/* Custom positioning for Data and Bowtie buttons - aggressive targeting */
/* CACHE BUSTER: 2025-07-18-16-15 */
/* ULTRA AGGRESSIVE THEME VIEWER BUTTON TARGETING */

/* Target theme viewer buttons by icon class - NUCLEAR OPTION */
.resizeable-window .icon-database,
.resizeable-window .icon-chart,
.resizeable-window .icon-dashboard,
.portal .icon-database,
.portal .icon-chart,
.portal .icon-dashboard,
.theme-switcher .icon-database,
.theme-switcher .icon-chart,
.theme-switcher .icon-dashboard {
    position: fixed !important;
    left: 10px !important;
    background-color: #4CAF50 !important;
    border: 2px solid #388E3C !important;
    color: white !important;
    box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3) !important;
    border-radius: 6px !important;
    width: 40px !important;
    height: 40px !important;
    z-index: 9999 !important;
    padding: 8px !important;
}

.resizeable-window .icon-database,
.portal .icon-database,
.theme-switcher .icon-database {
    top: 100px !important;
}

.resizeable-window .icon-chart,
.portal .icon-chart,
.theme-switcher .icon-chart {
    top: 160px !important;
}

.resizeable-window .icon-dashboard,
.portal .icon-dashboard,
.theme-switcher .icon-dashboard {
    top: 220px !important;
}

/* Custom dashboard button styling - ULTRA AGGRESSIVE */
.custom-dashboard-button,
html body .custom-dashboard-button,
html body button.custom-dashboard-button,
html body .toolbar .custom-dashboard-button,
html body .toolbar-right .custom-dashboard-button,
html body .map-button.custom-dashboard-button,
body .custom-dashboard-button,
*[class*="custom-dashboard-button"] {
    position: fixed !important;
    left: 10px !important;
    top: 220px !important;
    background-color: #9C27B0 !important;
    background: #9C27B0 !important;
    border: 2px solid #7B1FA2 !important;
    border-color: #7B1FA2 !important;
    color: white !important;
    box-shadow: 0 2px 8px rgba(156, 39, 176, 0.3) !important;
    border-radius: 6px !important;
    width: 40px !important;
    height: 40px !important;
    z-index: 9999 !important;
    right: auto !important;
    transform: none !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* Hide ALL text input fields in app menu/portal */
.app-menu input,
.portal input,
.themes input {
    display: none !important;
}
/* Debug: Show all buttons with borders to identify them - DISABLED */
/* button, .button, [role="button"] {
    border: 1px solid red !important;
} */

/* Theme Viewer/Switcher left button - CHANGE TO RED */
.theme-switcher button:first-child,
.themes-panel button:first-child,
.portal-menu button:first-child,
.resizeable-window[data-role="ThemeSwitcher"] button:first-child,
.resizeable-window[data-role="Portal"] button:first-child,
.theme-list button:first-child,
.theme-selection button:first-child,
/* Target navigation/back buttons in theme viewer */
.theme-switcher .back-button,
.themes-panel .back-button,
.portal .back-button,
.theme-switcher button[class*="back"],
.themes-panel button[class*="back"],
.portal button[class*="back"],
/* Target any left-positioned buttons in theme viewer */
.theme-switcher button[style*="left"],
.themes-panel button[style*="left"],
.portal button[style*="left"] {
    background-color: #F44336 !important; /* Red color */
    border-color: #D32F2F !important; /* Darker red border */
    color: white !important;
}

/* RESET theme viewer and portal buttons to normal positioning - BUT ALLOW LEFT POSITIONING */
.resizeable-window button,
.portal button,
.theme-switcher button,
.themes-panel button,
.portal-menu button,
.theme-list button,
.theme-selection button,
.resizeable-window[data-role="Portal"] button,
.resizeable-window[data-role="ThemeSwitcher"] button {
    position: static !important;
    right: auto !important;
    width: auto !important;
    height: auto !important;
    z-index: auto !important;
    background-color: initial !important;
    border: initial !important;
    border-radius: initial !important;
    box-shadow: initial !important;
}

/* Allow theme viewer buttons to be positioned on the left side - TARGET ACTUAL STRUCTURE */
/* Target the button containers in theme viewer by data-slot */
.resizeable-window .map-button-container[data-slot="6"],
.resizeable-window .map-button-container[data-slot="7"],
.portal .map-button-container[data-slot="6"],
.portal .map-button-container[data-slot="7"],
.theme-switcher .map-button-container[data-slot="6"],
.theme-switcher .map-button-container[data-slot="7"] {
    position: fixed !important;
    left: 10px !important;
    z-index: 9999 !important;
    order: initial !important;
}

/* Target the actual map-button elements in theme viewer */
.resizeable-window .map-button-container .map-button,
.portal .map-button-container .map-button,
.theme-switcher .map-button-container .map-button,
/* Also target by title attribute */
.resizeable-window button[title*="Data"],
.resizeable-window button[title*="Bowtie"],
.portal button[title*="Data"],
.portal button[title*="Bowtie"],
.theme-switcher button[title*="Data"],
.theme-switcher button[title*="Bowtie"] {
    position: fixed !important;
    left: 10px !important;
    background-color: #4CAF50 !important;
    background: #4CAF50 !important;
    border: 2px solid #388E3C !important;
    border-color: #388E3C !important;
    color: white !important;
    box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3) !important;
    border-radius: 6px !important;
    width: 40px !important;
    height: 40px !important;
    z-index: 9999 !important;
}

/* Specific positioning for data portal button in theme viewer - TARGET DATA-SLOT=6 */
.resizeable-window .map-button-container[data-slot="6"],
.portal .map-button-container[data-slot="6"],
.theme-switcher .map-button-container[data-slot="6"],
.resizeable-window button[title*="Data"],
.portal button[title*="Data"],
.theme-switcher button[title*="Data"] {
    top: 100px !important;
}

/* Specific positioning for bowtie button in theme viewer - TARGET DATA-SLOT=7 */
.resizeable-window .map-button-container[data-slot="7"],
.portal .map-button-container[data-slot="7"],
.theme-switcher .map-button-container[data-slot="7"],
.resizeable-window button[title*="Bowtie"],
.portal button[title*="Bowtie"],
.theme-switcher button[title*="Bowtie"] {
    top: 160px !important;
}

/* Exception: Keep red theme viewer navigation buttons but in normal position */
.resizeable-window .theme-switcher button:first-child,
.resizeable-window .themes-panel button:first-child,
.resizeable-window .portal-menu button:first-child,
.resizeable-window .theme-list button:first-child,
.resizeable-window .theme-selection button:first-child {
    background-color: #F44336 !important; /* Red color */
    border-color: #D32F2F !important; /* Darker red border */
    color: white !important;
    position: static !important;
    left: auto !important;
    top: auto !important;
    width: auto !important;
    height: auto !important;
}

/* ALSO apply green styling to theme viewer buttons with data/bowtie in titles */
.resizeable-window button[title*="Data"],
.resizeable-window button[title*="Portal"],
.resizeable-window button[title*="data"],
.resizeable-window button[title*="portal"],
.portal button[title*="Data"],
.portal button[title*="Portal"],
.portal button[title*="data"],
.portal button[title*="portal"],
.theme-switcher button[title*="Data"],
.theme-switcher button[title*="Portal"],
.theme-switcher button[title*="data"],
.theme-switcher button[title*="portal"] {
    position: fixed !important;
    left: 10px !important;
    top: 100px !important;
    background-color: #4CAF50 !important;
    background: #4CAF50 !important;
    border: 2px solid #388E3C !important;
    border-color: #388E3C !important;
    color: white !important;
    box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3) !important;
    border-radius: 6px !important;
    width: 40px !important;
    height: 40px !important;
    z-index: 9999 !important;
}

.resizeable-window button[title*="Bowtie"],
.resizeable-window button[title*="Analysis"],
.resizeable-window button[title*="bowtie"],
.resizeable-window button[title*="analysis"],
.portal button[title*="Bowtie"],
.portal button[title*="Analysis"],
.portal button[title*="bowtie"],
.portal button[title*="analysis"],
.theme-switcher button[title*="Bowtie"],
.theme-switcher button[title*="Analysis"],
.theme-switcher button[title*="bowtie"],
.theme-switcher button[title*="analysis"] {
    position: fixed !important;
    left: 10px !important;
    top: 160px !important;
    background-color: #4CAF50 !important;
    background: #4CAF50 !important;
    border: 2px solid #388E3C !important;
    border-color: #388E3C !important;
    color: white !important;
    box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3) !important;
    border-radius: 6px !important;
    width: 40px !important;
    height: 40px !important;
    z-index: 9999 !important;
}

/* Hover state for theme viewer left button */
.theme-switcher button:first-child:hover,
.themes-panel button:first-child:hover,
.portal-menu button:first-child:hover,
.resizeable-window[data-role="ThemeSwitcher"] button:first-child:hover,
.resizeable-window[data-role="Portal"] button:first-child:hover,
.theme-switcher .back-button:hover,
.themes-panel .back-button:hover,
.portal .back-button:hover {
    background-color: #D32F2F !important; /* Darker red on hover */
    border-color: #B71C1C !important;
}

/* Target ONLY toolbar buttons that contain "Data" or "database" - NOT portal buttons */
.toolbar *[title*="Data" i]:not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar *[title*="Portal" i]:not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar *[class*="data" i]:not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar *[class*="database" i]:not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar button:contains("Data"):not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.map-button:contains("Data"):not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar button[title*="Data" i]:not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar button:nth-last-child(1):not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar button:nth-last-child(2):not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar-right button:nth-last-child(1):not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar-right button:nth-last-child(2):not(.resizeable-window *):not(.portal *):not(.theme-switcher *) {
    position: fixed !important;
    left: 10px !important;
    top: 100px !important;
    right: auto !important;
    z-index: 9999 !important;
    background-color: #4CAF50 !important;
    border: 2px solid #388E3C !important;
    color: white !important;
    box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3) !important;
    border-radius: 6px !important;
    width: 40px !important;
    height: 40px !important;
}

/* Target ONLY toolbar buttons that contain "Bowtie" or "chart" - NOT portal buttons */
.toolbar *[title*="Bowtie" i]:not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar *[title*="Analysis" i]:not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar *[class*="bowtie" i]:not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar *[class*="chart" i]:not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar button:contains("Bowtie"):not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.map-button:contains("Bowtie"):not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar button[title*="Bowtie" i]:not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar button:nth-child(6):not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar button:nth-child(7):not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar-right button:nth-child(6):not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar-right button:nth-child(7):not(.resizeable-window *):not(.portal *):not(.theme-switcher *) {
    position: fixed !important;
    left: 10px !important;
    top: 160px !important;
    right: auto !important;
    z-index: 9999 !important;
    background-color: #4CAF50 !important;
    border: 2px solid #388E3C !important;
    color: white !important;
    box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3) !important;
    border-radius: 6px !important;
    width: 40px !important;
    height: 40px !important;
}

/* Force positioning for buttons at specific positions - ONLY in toolbar */
.toolbar > *:nth-child(6),
.toolbar-right > *:nth-child(6) {
    position: fixed !important;
    left: 10px !important;
    top: 100px !important;
    background-color: #4CAF50 !important;
    z-index: 9999 !important;
}

.toolbar > *:nth-child(7),
.toolbar-right > *:nth-child(7) {
    position: fixed !important;
    left: 10px !important;
    top: 160px !important;
    background-color: #4CAF50 !important;
    z-index: 9999 !important;
}

/* Nuclear option - target ONLY toolbar elements with database or chart icons - NOT portal */
.toolbar *[class*="database" i]:not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar *[class*="chart" i]:not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar .icon-database:not(.resizeable-window *):not(.portal *):not(.theme-switcher *),
.toolbar .icon-chart:not(.resizeable-window *):not(.portal *):not(.theme-switcher *) {
    position: fixed !important;
    left: 10px !important;
    z-index: 9999 !important;
    background-color: #4CAF50 !important;
}

/* Bowtie Analysis button styling - ULTRA AGGRESSIVE */
.bowtie-analysis-button,
html body .bowtie-analysis-button,
html body button.bowtie-analysis-button,
html body .toolbar .bowtie-analysis-button,
html body .toolbar-right .bowtie-analysis-button,
html body .map-button.bowtie-analysis-button,
body .bowtie-analysis-button,
*[class*="bowtie-analysis-button"] {
    position: fixed !important;
    left: 10px !important;
    top: 160px !important;
    background-color: #4CAF50 !important;
    background: #4CAF50 !important;
    border: 2px solid #388E3C !important;
    border-color: #388E3C !important;
    color: white !important;
    box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3) !important;
    border-radius: 6px !important;
    width: 40px !important;
    height: 40px !important;
    z-index: 9999 !important;
    right: auto !important;
    transform: none !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* Specific styling for data-portal-button class - ULTRA AGGRESSIVE */
.data-portal-button,
html body .data-portal-button,
html body button.data-portal-button,
html body .toolbar .data-portal-button,
html body .toolbar-right .data-portal-button,
html body .map-button.data-portal-button,
body .data-portal-button,
*[class*="data-portal-button"] {
    position: fixed !important;
    left: 10px !important;
    top: 100px !important;
    background-color: #4CAF50 !important;
    background: #4CAF50 !important;
    border: 2px solid #388E3C !important;
    border-color: #388E3C !important;
    color: white !important;
    box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3) !important;
    border-radius: 6px !important;
    width: 40px !important;
    height: 40px !important;
    z-index: 9999 !important;
    right: auto !important;
    transform: none !important;
    margin: 0 !important;
    padding: 0 !important;
}

.icon-database:not(.resizeable-window .icon-database):not(.portal .icon-database) {
    top: 100px !important;
}

.icon-chart:not(.resizeable-window .icon-chart):not(.portal .icon-chart) {
    top: 160px !important;
    background-color: #4CAF50 !important;
}

/* NUCLEAR OPTION - Force any button with these exact class names - ONLY outside portal */
.toolbar button[class="bowtie-analysis-button"]:not(.resizeable-window *):not(.portal *),
.toolbar button[class*="bowtie-analysis-button"]:not(.resizeable-window *):not(.portal *),
.toolbar *[class="bowtie-analysis-button"]:not(.resizeable-window *):not(.portal *),
.toolbar *[class*="bowtie-analysis-button"]:not(.resizeable-window *):not(.portal *) {
    position: fixed !important;
    left: 10px !important;
    top: 160px !important;
    background-color: #4CAF50 !important;
    background: #4CAF50 !important;
    border: 2px solid #388E3C !important;
    color: white !important;
    z-index: 9999 !important;
    width: 40px !important;
    height: 40px !important;
    border-radius: 6px !important;
}

.toolbar button[class="data-portal-button"]:not(.resizeable-window *):not(.portal *),
.toolbar button[class*="data-portal-button"]:not(.resizeable-window *):not(.portal *),
.toolbar *[class="data-portal-button"]:not(.resizeable-window *):not(.portal *),
.toolbar *[class*="data-portal-button"]:not(.resizeable-window *):not(.portal *) {
    position: fixed !important;
    left: 10px !important;
    top: 100px !important;
    background-color: #4CAF50 !important;
    background: #4CAF50 !important;
    border: 2px solid #388E3C !important;
    color: white !important;
    z-index: 9999 !important;
    width: 40px !important;
    height: 40px !important;
    border-radius: 6px !important;
}

/* Hover states to maintain colors */
.bowtie-analysis-button:hover,
html body .bowtie-analysis-button:hover,
button.bowtie-analysis-button:hover {
    background-color: #388E3C !important;
    background: #388E3C !important;
}

.data-portal-button:hover,
html body .data-portal-button:hover,
button.data-portal-button:hover {
    background-color: #388E3C !important;
    background: #388E3C !important;
}

/* Portal title background styling - AGGRESSIVE OVERRIDE */
/* Override CSS custom properties first */
:root {
    --titlebar-bg-color: #1a237e !important; /* Dark blue background */
    --app-menu-bg-color: #1b5e20 !important; /* Dark green for menus */
    --app-submenu-bg-color: #1b5e20 !important; /* Dark green for submenus */
    --panel-bg-color: rgba(27, 94, 32, 0.85) !important; /* Dark green panels */
    --app-menu-text-color: white !important; /* White text for menus */
    --app-submenu-text-color: white !important; /* White text for submenus */
    --text-color: white !important; /* Override base text color for menus */
}

:root.default {
    --titlebar-bg-color: #1a237e !important; /* Dark blue background */
    --app-menu-bg-color: #1b5e20 !important; /* Dark green for menus */
    --app-submenu-bg-color: #1b5e20 !important; /* Dark green for submenus */
    --panel-bg-color: rgba(27, 94, 32, 0.85) !important; /* Dark green panels */
    --app-menu-text-color: white !important; /* White text for menus */
    --app-submenu-text-color: white !important; /* White text for submenus */
}

:root.dark {
    --titlebar-bg-color: #1a237e !important; /* Dark blue background */
    --app-menu-bg-color: #1b5e20 !important; /* Dark green for menus */
    --app-submenu-bg-color: #1b5e20 !important; /* Dark green for submenus */
    --panel-bg-color: rgba(27, 94, 32, 0.85) !important; /* Dark green panels */
    --app-menu-text-color: white !important; /* White text for menus */
    --app-submenu-text-color: white !important; /* White text for submenus */
}

:root.highcontrast {
    --titlebar-bg-color: #1a237e !important; /* Dark blue background */
    --app-menu-bg-color: #1b5e20 !important; /* Dark green for menus */
    --app-submenu-bg-color: #1b5e20 !important; /* Dark green for submenus */
    --panel-bg-color: rgba(27, 94, 32, 0.85) !important; /* Dark green panels */
    --app-menu-text-color: white !important; /* White text for menus */
    --app-submenu-text-color: white !important; /* White text for submenus */
}

/* Use maximum CSS specificity to override any existing styles */
html body .portal-title,
html body .portal-header,
html body .theme-switcher-title,
html body .portal .titlebar,
html body .portal-container .titlebar,
html body [class*="portal"] .titlebar,
html body [class*="theme"] .titlebar,
html body .modal-dialog .titlebar,
html body .resizeable-window .titlebar,
html body .window .titlebar,
html body .dialog .titlebar,
html body .popup .titlebar,
html body .panel .titlebar,
/* TARGET MAP & TOOLS RIGHT MENU HEADERS */
html body .resizeable-window[data-role="LayerTree"] .titlebar,
html body .resizeable-window[data-role="MapLegend"] .titlebar,
html body .resizeable-window[data-role="LayerCatalog"] .titlebar,
html body .resizeable-window[data-role="FeatureSearch"] .titlebar,
html body .resizeable-window[data-role="Share"] .titlebar,
html body .resizeable-window[data-role="Bookmark"] .titlebar,
html body .resizeable-window[data-role="Print"] .titlebar,
html body .resizeable-window[data-role="Help"] .titlebar,
html body .resizeable-window[data-role="Settings"] .titlebar,
html body .resizeable-window[data-role="Identify"] .titlebar,
html body .resizeable-window[data-role="Measure"] .titlebar,
html body .resizeable-window[data-role="Editing"] .titlebar,
html body .layer-tree .titlebar,
html body .map-legend .titlebar,
html body .tools-panel .titlebar {
    background-color: #1b5e20 !important; /* Dark green background for all headers */
    background: #1b5e20 !important; /* Fallback */
    color: white !important;
}

/* Additional targeting for portal-related elements */
html body .portal-window .titlebar,
html body .theme-switcher .titlebar,
html body .themes-panel .titlebar,
html body .themes-container .titlebar,
html body .portal-dialog .titlebar {
    background-color: #1a237e !important; /* Dark blue background */
    background: #1a237e !important; /* Fallback */
    color: white !important;
}

/* Target any titlebar that might be in the portal interface */
html body .resizeable-window[data-role="Portal"] .titlebar,
html body .resizeable-window[data-role="ThemeSwitcher"] .titlebar,
html body div[class*="portal"] .titlebar,
html body div[class*="theme"] .titlebar {
    background-color: #1a237e !important; /* Dark blue background */
    background: #1a237e !important; /* Fallback */
    color: white !important;
}

/* Nuclear option - target ALL titlebars in case class names are different */
html body .titlebar,
html body [class*="title"],
html body .header,
html body [class*="header"] {
    background-color: #1a237e !important; /* Dark blue background */
    background-image: none !important;
    border-top: none !important;
    color: white !important;
}

/* Right menu background styling - Dark Green - SPECIFIC TARGETING ONLY */
/* Target only the actual menu sidebar, not the entire portal */
html body .resizeable-window .body .portal-menu,
html body .resizeable-window .content .portal-menu,
html body .resizeable-window .body .menu-container,
html body .resizeable-window .content .menu-container,
html body .portal-container .menu,
html body .portal-sidebar,
html body .portal .sidebar,
html body .portal-right-menu,
html body .portal .menu-content,
html body .portal-menu-content,
html body .themes-menu,
html body .theme-switcher .menu,
html body .theme-switcher-menu,
html body .app-menu,
html body .side-menu,
html body .right-panel .menu,
html body .menu-panel .menu,
html body .navigation-menu,
html body .portal-navigation .menu,
html body .menu-sidebar,
/* TARGET THE TOP RIGHT THEME SWITCHER SPECIFICALLY */
html body .resizeable-window[data-role="ThemeSwitcher"] .body,
html body .resizeable-window[data-role="ThemeSwitcher"] .content,
html body .resizeable-window[data-role="Portal"] .body,
html body .resizeable-window[data-role="Portal"] .content,
html body .theme-switcher-container,
html body .themes-container,
html body .themes-panel,
html body .theme-list,
html body .theme-selection {
    background-color: #1b5e20 !important; /* Dark green background */
    background: #1b5e20 !important; /* Fallback */
    color: white !important;
}

/* Target specific menu containers by their likely class patterns */
html body .resizeable-window [class*="menu"]:not([class*="button"]):not([class*="item"]),
html body .resizeable-window [class*="sidebar"]:not([class*="button"]):not([class*="item"]),
html body .resizeable-window [class*="theme"]:not([class*="button"]):not([class*="item"]),
html body .portal-container [class*="menu"]:not([class*="button"]):not([class*="item"]),
html body .portal-container [class*="sidebar"]:not([class*="button"]):not([class*="item"]),
html body .portal-container [class*="theme"]:not([class*="button"]):not([class*="item"]) {
    background-color: #1b5e20 !important; /* Dark green background */
    background: #1b5e20 !important; /* Fallback */
    color: white !important;
}

/* Target menu items and links in the right menu - ULTRA AGGRESSIVE */
html body .portal-menu a,
html body .portal .menu a,
html body .portal-menu .menu-item,
html body .portal .menu .menu-item,
html body .menu-container a,
html body .menu-container .menu-item,
html body .themes-menu a,
html body .theme-switcher .menu a,
html body .resizeable-window .menu a,
html body .resizeable-window .menu .menu-item,
html body .resizeable-window .body .portal-menu *,
html body .resizeable-window .content .portal-menu *,
html body .resizeable-window .body .menu-container *,
html body .resizeable-window .content .menu-container *,
html body .portal-sidebar *,
html body .portal .sidebar *,
html body .portal-right-menu *,
html body .portal .menu-content *,
html body .portal-menu-content *,
html body .themes-menu *,
html body .theme-switcher .menu *,
html body .theme-switcher-menu * {
    color: white !important;
    background: transparent !important;
    text-decoration: none !important;
}

/* NUCLEAR OPTION - Force white text on ALL elements within menu containers */
html body .resizeable-window .body .portal-menu,
html body .resizeable-window .content .portal-menu,
html body .resizeable-window .body .menu-container,
html body .resizeable-window .content .menu-container,
html body .portal-sidebar,
html body .portal .sidebar,
html body .portal-right-menu,
html body .portal .menu-content,
html body .portal-menu-content,
html body .themes-menu,
html body .theme-switcher .menu,
html body .theme-switcher-menu {
    color: white !important;
}

/* Force white on absolutely EVERYTHING that could be text in menus */
html body .resizeable-window .menu *,
html body .portal-menu *,
html body .menu-container *,
html body .themes-menu *,
html body .theme-switcher .menu *,
html body .portal-sidebar *,
html body .portal .sidebar *,
html body .portal-right-menu *,
html body .portal .menu-content *,
html body .portal-menu-content *,
/* TARGET THEME SWITCHER CONTENT SPECIFICALLY */
html body .resizeable-window[data-role="ThemeSwitcher"] .body *,
html body .resizeable-window[data-role="ThemeSwitcher"] .content *,
html body .resizeable-window[data-role="Portal"] .body *,
html body .resizeable-window[data-role="Portal"] .content *,
html body .theme-switcher-container *,
html body .themes-container *,
html body .themes-panel *,
html body .theme-list *,
html body .theme-selection * {
    color: white !important;
}

/* Target any text elements that might have inherited colors - AGGRESSIVE */
html body .resizeable-window .menu span,
html body .resizeable-window .menu div,
html body .resizeable-window .menu p,
html body .resizeable-window .menu li,
html body .resizeable-window .menu ul,
html body .resizeable-window .menu button,
html body .resizeable-window .menu input,
html body .resizeable-window .menu label,
html body .portal-menu span,
html body .portal-menu div,
html body .portal-menu p,
html body .portal-menu li,
html body .portal-menu ul,
html body .portal-menu button,
html body .portal-menu input,
html body .portal-menu label,
html body .menu-container span,
html body .menu-container div,
html body .menu-container p,
html body .menu-container li,
html body .menu-container ul,
html body .menu-container button,
html body .menu-container input,
html body .menu-container label {
    color: white !important;
}

/* Menu item hover effects */
html body .portal-menu a:hover,
html body .portal .menu a:hover,
html body .portal-menu .menu-item:hover,
html body .portal .menu .menu-item:hover,
html body .menu-container a:hover,
html body .menu-container .menu-item:hover,
html body .resizeable-window .menu a:hover,
html body .resizeable-window .menu .menu-item:hover {
    background-color: #2e7d32 !important; /* Lighter green on hover */
    color: white !important;
}

/* Override any gradient or other background properties for menus only */
html body .resizeable-window [class*="menu"]:not([class*="button"]):not([class*="item"]),
html body .portal-container [class*="menu"]:not([class*="button"]):not([class*="item"]) {
    background-image: none !important;
}

/* ULTIMATE NUCLEAR OPTION - Target ALL window bodies */
html body .resizeable-window .body,
html body .resizeable-window .content,
html body .window .body,
html body .window .content,
html body .dialog .body,
html body .dialog .content,
html body .modal .body,
html body .modal .content,
html body .popup .body,
html body .popup .content {
    background-color: #1b5e20 !important; /* Dark green background */
    background: #1b5e20 !important; /* Fallback */
    color: white !important;
}

/* Target the entire resizeable window if it's a Portal or ThemeSwitcher */
html body .resizeable-window[data-role="Portal"],
html body .resizeable-window[data-role="ThemeSwitcher"],
html body .resizeable-window[data-role="portal"],
html body .resizeable-window[data-role="themeswitcher"] {
    background-color: #1b5e20 !important; /* Dark green background */
    background: #1b5e20 !important; /* Fallback */
    color: white !important;
}

/* Force ALL text in ALL windows to be white */
html body .resizeable-window .body *,
html body .resizeable-window .content *,
html body .window .body *,
html body .window .content *,
html body .dialog .body *,
html body .dialog .content * {
    color: white !important;
}

/* YELLOW STYLING FOR CUSTOM TOOL BUTTONS - HIGH VISIBILITY */
/* Updated: 2025-07-19 - Yellow theme for better visibility */

/* TopBar menu items for custom plugins */
.topbar button[title="Data Portal"],
.topbar button[title*="Data Portal"],
.topbar .icon-catalog,
.topbar button[title="BowTie Analysis"],
.topbar button[title*="BowTie"],
.topbar .icon-butterfly,
.topbar button[title="Custom Dashboard"],
.topbar button[title*="Dashboard"],
.topbar .icon-tools,
.topbar button[title="Test Plugin"],
.topbar button[title*="Test"],
.topbar .icon-ok,
/* TaskButton styling for custom plugins */
.TaskButton {
    background-color: #FFD700 !important;
    color: #000 !important;
    border: 2px solid #FFA500 !important;
    font-weight: bold !important;
}

.TaskButton:hover {
    background-color: #FFA500 !important;
    color: #000 !important;
}

/* TaskBar styling */
.task-bar {
    position: fixed;
    top: 50px;
    right: 20px;
    background: white;
    border: 2px solid #ccc;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    z-index: 1000;
    min-width: 400px;
    max-width: 80vw;
}

.task-bar .task-bar-title {
    background: #4CAF50;
    color: white;
    padding: 10px 15px;
    margin: 0;
    border-radius: 6px 6px 0 0;
    position: relative;
}

.task-bar .task-bar-close {
    position: absolute;
    top: 5px;
    right: 10px;
    background: transparent;
    border: none;
    color: white;
    font-size: 20px;
    cursor: pointer;
    width: 25px;
    height: 25px;
    border-radius: 50%;
}

.task-bar .task-bar-close:hover {
    background: rgba(255,255,255,0.2);
}
.data-portal-button,
.bowtie-analysis-button,
.custom-dashboard-button,
.test-plugin-button,
/* Generic class targeting */
button[class*="data-portal"],
button[class*="bowtie"],
button[class*="dashboard"],
button[class*="test-plugin"],
/* Title-based targeting */
button[title*="Data Portal"],
button[title*="BowTie"],
button[title*="Dashboard"],
button[title*="Test Plugin"],
/* Icon-based targeting */
.icon-catalog,
.icon-butterfly,
.icon-tools,
.icon-ok {
    background-color: #FFD700 !important; /* Bright yellow */
    color: #000000 !important; /* Black text for contrast */
    border: 2px solid #FFA500 !important; /* Orange border */
    box-shadow: 0 2px 8px rgba(255, 215, 0, 0.4) !important;
    font-weight: bold !important;
}

/* Hover effects for yellow buttons */
.topbar button[title="Data Portal"]:hover,
.topbar button[title*="Data Portal"]:hover,
.topbar button[title="BowTie Analysis"]:hover,
.topbar button[title*="BowTie"]:hover,
.topbar button[title="Custom Dashboard"]:hover,
.topbar button[title*="Dashboard"]:hover,
.topbar button[title="Test Plugin"]:hover,
.topbar button[title*="Test"]:hover,
.data-portal-button:hover,
.bowtie-analysis-button:hover,
.custom-dashboard-button:hover,
.test-plugin-button:hover,
button[class*="data-portal"]:hover,
button[class*="bowtie"]:hover,
button[class*="dashboard"]:hover,
button[class*="test-plugin"]:hover,
button[title*="Data Portal"]:hover,
button[title*="BowTie"]:hover,
button[title*="Dashboard"]:hover,
button[title*="Test Plugin"]:hover,
.icon-catalog:hover,
.icon-butterfly:hover,
.icon-tools:hover,
.icon-ok:hover {
    background-color: #FFED4E !important; /* Lighter yellow on hover */
    border-color: #FF8C00 !important; /* Darker orange border on hover */
    box-shadow: 0 4px 12px rgba(255, 215, 0, 0.6) !important;
    transform: translateY(-1px) !important;
}

/* Active/pressed state for yellow buttons */
.topbar button[title="Data Portal"]:active,
.topbar button[title*="Data Portal"]:active,
.topbar button[title="BowTie Analysis"]:active,
.topbar button[title*="BowTie"]:active,
.topbar button[title="Custom Dashboard"]:active,
.topbar button[title*="Dashboard"]:active,
.topbar button[title="Test Plugin"]:active,
.topbar button[title*="Test"]:active,
.data-portal-button:active,
.bowtie-analysis-button:active,
.custom-dashboard-button:active,
.test-plugin-button:active,
button[class*="data-portal"]:active,
button[class*="bowtie"]:active,
button[class*="dashboard"]:active,
button[class*="test-plugin"]:active,
button[title*="Data Portal"]:active,
button[title*="BowTie"]:active,
button[title*="Dashboard"]:active,
button[title*="Test Plugin"]:active,
.icon-catalog:active,
.icon-butterfly:active,
.icon-tools:active,
.icon-ok:active {
    background-color: #DAA520 !important; /* Darker yellow when pressed */
    border-color: #FF6347 !important; /* Red-orange border when pressed */
    transform: translateY(1px) !important;
}